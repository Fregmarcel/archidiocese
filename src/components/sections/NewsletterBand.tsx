"use client";import { useState } from "react";import SectionReveal from "./SectionReveal";type Props = { locale: string };export default function NewsletterBand({ locale }: Props) {  const [email, setEmail] = useState('');  const [isLoading, setIsLoading] = useState(false);  const [message, setMessage] = useState('');  const [isSuccess, setIsSuccess] = useState(false);  const handleSubmit = async (e: React.FormEvent) => {    e.preventDefault();    setIsLoading(true);    setMessage('');    try {      const response = await fetch('/api/newsletter/subscribe', {        method: 'POST',        headers: {          'Content-Type': 'application/json',        },        body: JSON.stringify({ email }),      });      const data = await response.json();      if (data.success) {        setIsSuccess(true);        setMessage(data.message);        setEmail('');      } else {        setIsSuccess(false);        setMessage(data.message || 'Une erreur est survenue');      }    } catch (error) {      setIsSuccess(false);      setMessage('Une erreur est survenue lors de l\'inscription');    } finally {      setIsLoading(false);    }  };  return (    <SectionReveal className="bg-neutral-50">      <div className="container mx-auto px-4 py-10">        <div className="grid items-center gap-6 md:grid-cols-[80px_1fr_auto]">          <div className="hidden md:flex items-center justify-center w-16 h-16 border-2 border-neutral-300 rounded">            <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-neutral-500">              <path d="M4 4h16v16H4z" />              <path d="m22 6-10 7L2 6" />            </svg>          </div>          <div>            <h3 className="uppercase text-sm md:text-base font-extrabold tracking-wide text-[#25282E]">              S'abonner à la newsletter de l'Archidiocèse            </h3>            <p className="text-neutral-600 text-sm mt-1">              Soyez à la page et recevez régulièrement l'actualité de l'Archidiocèse, l'agenda des évènements, les annonces et les nouvelles formations…            </p>            {message && (              <p className={`text-sm mt-2 ${isSuccess ? 'text-green-600' : 'text-red-600'}`}>                {message}              </p>            )}          </div>          <form onSubmit={handleSubmit} className="flex w-full md:w-auto">            <label htmlFor="newsletter-email" className="sr-only">Votre adresse Email</label>            <input               id="newsletter-email"               name="email"               type="email"               required               value={email}              onChange={(e) => setEmail(e.target.value)}              disabled={isLoading}              placeholder="Votre adresse Email"               className="flex-1 md:w-96 border border-neutral-300 rounded-l px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-[#2E9B51] disabled:opacity-50"             />            <button               type="submit"               disabled={isLoading}              className="bg-[#BE2722] text-white px-4 py-2 rounded-r text-sm font-extrabold uppercase disabled:opacity-50"            >              {isLoading ? 'En cours...' : "S'inscrire"}            </button>          </form>        </div>      </div>
    </SectionReveal>
  );
}
